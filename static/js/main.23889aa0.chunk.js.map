{"version":3,"sources":["components/Header.tsx","connectors/metaMask.ts","components/Accounts.tsx","components/Card.tsx","chains.ts","components/Chain.tsx","components/ConnectWithSelect.tsx","components/Status.tsx","components/connectors/MetaMaskCard.tsx","connectors/walletConnect.ts","components/connectors/WalletConnectCard.tsx","connectors/nufinetes.ts","components/connectors/NefinetesCard.tsx","components/CurrentWallet.tsx","components/ProviderExample.tsx","views/Index.tsx","utils/index.ts","utils/storage.ts","components/AccountProvider.tsx","components/dappComponents/Dapp.tsx","views/Dapp.tsx","components/signComponents/PersonalSign.tsx","components/signComponents/SignTypedDataV4.tsx","components/signComponents/MetamaskSign.tsx","components/signComponents/NufinetesSign.tsx","views/EthSign.tsx","components/contractCallComponents/EthKovan.tsx","views/Contract.tsx","components/contractCallComponents/VechainTest.tsx","views/Vechain.tsx","components/contractCallComponents/bnbTestnet.tsx","views/Bnb.tsx","routers/router.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Header","pathname","window","location","rawPathname","useMemo","includes","replace","style","display","justifyContent","width","padding","margin","overflow","border","borderRadius","flexWrap","HeaderLink","className","to","styled","div","initializeConnector","actions","MetaMask","metaMask","hooks","Accounts","accounts","provider","ENSNames","balances","useState","setBalances","useEffect","length","stale","Promise","all","map","account","getBalance","then","undefined","useBalances","i","textOverflow","formatEther","Card","children","flexDirection","ETH","name","symbol","decimals","MATIC","BNB","getAddChainParameters","chainId","chainInformation","CHAINS","nativeCurrency","isExtendedChainInformation","chainName","rpcUrls","urls","blockExplorerUrls","KEYS","filter","url","URLS","Object","keys","reduce","accumulator","validURLs","Number","Chain","Select","switchChain","displayDefault","chainIds","value","onChange","event","target","disabled","ConnectWithSelect","connector","targetChainId","isActivating","error","selectable","isActive","isNetwork","Network","desiredChainId","setDesiredChainId","useCallback","WalletConnect","activate","marginBottom","onClick","deactivate","Status","message","useChainId","useAccounts","useError","useIsActivating","useIsActive","useProvider","useENSNames","MetaMaskCard","connectEagerly","console","log","msgParams","request","method","params","res","rpc","walletConnect","WalletConnectCard","signParams","id","jsonrpc","cert","JSON","stringify","purpose","payload","type","content","domain","origin","sendCustomRequest","NufinetesConnector","nufinetes","NefinetesCard","customProvider","getName","CurrentWallet","memo","useWeb3React","alignItems","fontWeight","fontSize","textAlign","join","connectors","nufinetesHooks","metaMaskHooks","walletConnectHooks","ProviderExample","lookupENS","Home","flexFlow","fontFamily","handleGetCode","resolve","setTimeout","handleGetToken","Date","getTime","getQuery","splitUrl","split","qs","paramPairs","forEach","e","pair","key","slice","decodeURIComponent","ACCESS_TOKEN_KEY","storage","walletAddress","accessInfo","itemStr","localStorage","getItem","obj","parse","setItem","subKey","AccountContext","createContext","AccountProvider","isRequestingCode","setIsRequestingCode","isSigning","setIsSigning","isLogining","setIsLogining","currentAccount","setCurrentAccount","authCode","setAuthCode","create","acceptTermsData","setAcceptTermsData","handleGetSignRes","code","walletSignRes","Error","handleConnect","handleSignAndLogin","signRes","walletSignResObj","signingAddress","signer","toLowerCase","loginCert","signature","certificate","timestamp","tokenRes","address","getTokenRes","handleConfirmLogin","r","confirm","href","userAddress","newParams","newHref","refreshLink","agreeObj","keepSignInfo","search","_targetAddr","indexOf","curAccount","localToken","parsedToken","Provider","authToken","handleLogout","removeItem","Dapp","context","useContext","useAccount","DappWrapper","DappContent","AccountContent","ConnectButton","xmlns","height","fill","d","StatusLine","a","PersonalSign","sigRes","setSigRes","recoverRes","setRecoverRes","signMessage","setSignMessage","errorMessage","setErrorMessage","handleRecover","recoverPersonalSignature","data","recoveredAddress","Wrapper","StyledInput","StyledButton","StyledLabel","StyledResult","color","textarea","button","signData","verifyingContract","version","contents","from","wallets","primaryType","types","EIP712Domain","Group","Mail","Person","recoverTypedSignature","SignTypedDataVersion","V4","SignTypedDataV4","Link_Addr","Mock_Contract","Link_Faucet","_isActive","ethBalance","setEthBalance","linkBalance","setLinkBalance","approvedAmount","setApprovedAmount","txHash","setTxHash","getNativeTokenBalance","_balance","formatUnits","handleBalanceAndApprove","balance","contract","Contract","ERC20_ABI","getSigner","balanceOf","_decimals","allowance","gasLimit","addressApprowed","getApprove","approve","tx","hash","wait","wordBreak","marginTop","rel","Veed_Addr","connex","Connex","node","network","veedBalance","setVeedBalance","amountValue","setAmountValue","setAddress","sessionIdRef","useRef","balanceOfVeed","balanceOfABI","constant","inputs","outputs","payable","stateMutability","acc","thor","call","result","fnABI","Devkit","Function","balanceRes","decode","contractRequest","clauseList","str","transferTokenJSON","current","broadcast","reject","transferVeed","isNaN","alert","transferABI","big","BigInt","parseFloat","Math","pow","toString","clauseParams","asClause","clause","comment","toLocaleLowerCase","transactionRes","txid","USDT_Addr","setUSDTBalance","web3ProviderEngine","Web3ProviderEngine","sp","SignerSubprovider","addProvider","RPCSubprovider","start","Web3Provider","fallback","basename","process","path","element","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.23889aa0.chunk.js","sourcesContent":["import { useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport default function Header() {\n  const { pathname } = window.location;\n  const rawPathname = useMemo(() => {\n    if (pathname.includes(\"/nufinetes-link-demo/\")) {\n      return pathname.replace(\"/nufinetes-link-demo\", \"\");\n    }\n    return pathname;\n  }, [pathname]);\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        width: \"600px\",\n        padding: \"1rem\",\n        margin: \"1rem\",\n        overflow: \"auto\",\n        border: \"1px solid\",\n        borderRadius: \"1rem\",\n        flexWrap: \"wrap\",\n      }}\n    >\n      <HeaderLink className={rawPathname === \"/\" ? \"active\" : \"\"}>\n        <Link to=\"/\">Multi wallet example</Link>\n      </HeaderLink>\n\n      <HeaderLink className={rawPathname === \"/dapp\" ? \"active\" : \"\"}>\n        <Link to=\"/dapp\">Dapp wallet example</Link>\n      </HeaderLink>\n\n      <HeaderLink className={rawPathname === \"/eth-sign\" ? \"active\" : \"\"}>\n        <Link to=\"/eth-sign\">Ethereum Sign example</Link>\n      </HeaderLink>\n\n      <HeaderLink className={rawPathname === \"/contract\" ? \"active\" : \"\"}>\n        <Link to=\"/contract\">Eth Contract call example</Link>\n      </HeaderLink>\n\n      <HeaderLink className={rawPathname === \"/vechain\" ? \"active\" : \"\"}>\n        <Link to=\"/vechain\">Vechain Contract call example</Link>\n      </HeaderLink>\n\n      <HeaderLink className={rawPathname === \"/bnb\" ? \"active\" : \"\"}>\n        <Link to=\"/bnb\">Bnb Contract call example</Link>\n      </HeaderLink>\n    </div>\n  );\n}\n\nconst HeaderLink = styled.div`\n  margin-right: 20px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  a {\n    text-decoration: underline;\n    color: #000;\n  }\n  &.active {\n    a {\n      color: #1665e3;\n      text-decoration: none;\n    }\n  }\n`;\n","import { initializeConnector } from '@web3-react/core'\nimport { MetaMask } from '@web3-react/metamask'\n\nexport const [metaMask, hooks] = initializeConnector<MetaMask>((actions) => new MetaMask(actions))\n","import type { BigNumber } from '@ethersproject/bignumber'\nimport { formatEther } from '@ethersproject/units'\nimport type { Web3ReactHooks } from '@web3-react/core'\nimport { useEffect, useState } from 'react'\n\nfunction useBalances(\n  provider?: ReturnType<Web3ReactHooks['useProvider']>,\n  accounts?: string[]\n): BigNumber[] | undefined {\n  const [balances, setBalances] = useState<BigNumber[] | undefined>()\n\n  useEffect(() => {\n    if (provider && accounts?.length) {\n      let stale = false\n\n      void Promise.all(accounts.map((account) => provider.getBalance(account))).then((balances) => {\n        if (!stale) {\n          setBalances(balances)\n        }\n      })\n\n      return () => {\n        stale = true\n        setBalances(undefined)\n      }\n    }\n  }, [provider, accounts])\n\n  return balances\n}\n\nexport function Accounts({\n  accounts,\n  provider,\n  ENSNames,\n}: {\n  accounts: ReturnType<Web3ReactHooks['useAccounts']>\n  provider?: ReturnType<Web3ReactHooks['useProvider']>\n  ENSNames?: ReturnType<Web3ReactHooks['useENSNames']>\n}) {\n  const balances = useBalances(provider, accounts)\n\n  if (accounts === undefined) return null\n\n  return (\n    <div>\n      Accounts:{' '}\n      <b>\n        {accounts.length === 0\n          ? 'None'\n          : accounts?.map((account, i) => (\n              <ul key={account} style={{ margin: 0, overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                {ENSNames?.[i] ?? account}\n                {balances?.[i] ? ` (Ξ${formatEther(balances[i])})` : null}\n              </ul>\n            ))}\n      </b>\n    </div>\n  )\n}\n","export function Card({ children }: { children: JSX.Element | JSX.Element[] }) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        width: '20rem',\n        padding: '1rem',\n        margin: '1rem',\n        overflow: 'auto',\n        border: '1px solid',\n        borderRadius: '1rem',\n      }}\n    >\n      {children}\n    </div>\n  )\n}\n","import type {AddEthereumChainParameter} from '@web3-react/types'\n\nconst ETH: AddEthereumChainParameter['nativeCurrency'] = {\n    name: 'Ether',\n    symbol: 'ETH',\n    decimals: 18,\n}\n\nconst MATIC: AddEthereumChainParameter['nativeCurrency'] = {\n    name: 'Matic',\n    symbol: 'MATIC',\n    decimals: 18,\n}\n\nconst BNB: AddEthereumChainParameter['nativeCurrency'] = {\n    name: 'bnb',\n    symbol: 'BNB',\n    decimals: 18,\n  }\n\ninterface BasicChainInformation {\n    urls: (string | undefined)[]\n    name: string\n}\n\ninterface ExtendedChainInformation extends BasicChainInformation {\n    nativeCurrency: AddEthereumChainParameter['nativeCurrency']\n    blockExplorerUrls: AddEthereumChainParameter['blockExplorerUrls']\n}\n\nfunction isExtendedChainInformation(\n    chainInformation: BasicChainInformation | ExtendedChainInformation\n): chainInformation is ExtendedChainInformation {\n    return !!(chainInformation as ExtendedChainInformation).nativeCurrency\n}\n\nexport function getAddChainParameters(chainId: number): AddEthereumChainParameter | number {\n    const chainInformation = CHAINS[chainId]\n    if (isExtendedChainInformation(chainInformation)) {\n        return {\n            chainId,\n            chainName: chainInformation.name,\n            nativeCurrency: chainInformation.nativeCurrency,\n            rpcUrls: chainInformation.urls as string[],\n            blockExplorerUrls: chainInformation.blockExplorerUrls,\n        }\n    } else {\n        return chainId\n    }\n}\n\nconst KEYS = {\n    REACT_INFURA_KEY: '84842078b09946638c03157f83405213',\n    REACT_ALCHEMY_KEY: '_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC',\n    REACT_MAGIC_KEY: 'pk_live_1F99B3C570C9B08F',\n}\n\nexport const CHAINS: {\n    [chainId: number]: BasicChainInformation | ExtendedChainInformation\n} = {\n    1: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://mainnet.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n            KEYS.REACT_ALCHEMY_KEY ? `https://eth-mainnet.alchemyapi.io/v2/${KEYS.REACT_ALCHEMY_KEY}` : undefined,\n            'https://cloudflare-eth.com',\n        ].filter((url) => url !== undefined),\n        name: 'Mainnet',\n    },\n    3: {\n        urls: [KEYS.REACT_INFURA_KEY ? `https://ropsten.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined].filter(\n            (url) => url !== undefined\n        ),\n        name: 'Ropsten',\n    },\n    4: {\n        urls: [KEYS.REACT_INFURA_KEY ? `https://rinkeby.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined].filter(\n            (url) => url !== undefined\n        ),\n        name: 'Rinkeby',\n    },\n    5: {\n        urls: [KEYS.REACT_INFURA_KEY ? `https://goerli.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined].filter(\n            (url) => url !== undefined\n        ),\n        name: 'Görli',\n    },\n    42: {\n        urls: [KEYS.REACT_INFURA_KEY ? `https://kovan.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined].filter(\n            (url) => url !== undefined\n        ),\n        name: 'Kovan',\n    },\n    // Optimism\n    10: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://optimism-mainnet.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n            'https://mainnet.optimism.io',\n        ].filter((url) => url !== undefined),\n        name: 'Optimism',\n        nativeCurrency: ETH,\n        blockExplorerUrls: ['https://optimistic.etherscan.io'],\n    },\n    69: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://optimism-kovan.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n            'https://kovan.optimism.io',\n        ].filter((url) => url !== undefined),\n        name: 'Optimism Kovan',\n        nativeCurrency: ETH,\n        blockExplorerUrls: ['https://kovan-optimistic.etherscan.io'],\n    },\n    56: {\n      urls: ['https://bsc-dataseed1.binance.org'],\n      name: 'Binance Smart Chain',\n      nativeCurrency: BNB,\n      blockExplorerUrls: ['https://bscscan.com'],\n    },\n    97: {\n      urls: ['https://data-seed-prebsc-1-s1.binance.org:8545'],\n      name: 'BSC Testnet',\n      nativeCurrency: BNB,\n      blockExplorerUrls: ['https://testnet.bscscan.com'],\n    },\n    // Arbitrum\n    42161: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://arbitrum-mainnet.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n            'https://arb1.arbitrum.io/rpc',\n        ].filter((url) => url !== undefined),\n        name: 'Arbitrum One',\n        nativeCurrency: ETH,\n        blockExplorerUrls: ['https://arbiscan.io'],\n    },\n    421611: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://arbitrum-rinkeby.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n            'https://rinkeby.arbitrum.io/rpc',\n        ].filter((url) => url !== undefined),\n        name: 'Arbitrum Testnet',\n        nativeCurrency: ETH,\n        blockExplorerUrls: ['https://testnet.arbiscan.io'],\n    },\n    // Polygon\n    137: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://polygon-mainnet.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n            'https://polygon-rpc.com',\n        ].filter((url) => url !== undefined),\n        name: 'Polygon Mainnet',\n        nativeCurrency: MATIC,\n        blockExplorerUrls: ['https://polygonscan.com'],\n    },\n    80001: {\n        urls: [\n            KEYS.REACT_INFURA_KEY ? `https://polygon-mumbai.infura.io/v3/${KEYS.REACT_INFURA_KEY}` : undefined,\n        ].filter((url) => url !== undefined),\n        name: 'Polygon Mumbai',\n        nativeCurrency: MATIC,\n        blockExplorerUrls: ['https://mumbai.polygonscan.com'],\n    },\n}\n\nexport const URLS: {[chainId: number]: (string | undefined)[]} = Object.keys(CHAINS).reduce<{\n    [chainId: number]: (string | undefined)[]\n}>((accumulator, chainId) => {\n    const validURLs: (string | undefined)[] = CHAINS[Number(chainId)].urls\n    if (validURLs.length) {\n        accumulator[Number(chainId)] = validURLs\n    }\n    return accumulator\n}, {})\n","import type { Web3ReactHooks } from '@web3-react/core'\nimport { CHAINS } from '../chains'\n\nexport function Chain({ chainId }: { chainId: ReturnType<Web3ReactHooks['useChainId']> }) {\n  if (chainId === undefined) return null\n\n  const name = chainId ? CHAINS[chainId]?.name : undefined\n\n  if (name) {\n    return (\n      <div>\n        Chain:{' '}\n        <b>\n          {name} ({chainId})\n        </b>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      Chain Id: <b>{chainId}</b>\n    </div>\n  )\n}\n","import type { CoinbaseWallet } from '@web3-react/coinbase-wallet'\nimport type { Web3ReactHooks } from '@web3-react/core'\nimport type { MetaMask } from '@web3-react/metamask'\nimport { NufinetesConnector } from '@vimworld/nufinetes-link'\nimport { Network } from '@web3-react/network'\nimport { WalletConnect } from '@web3-react/walletconnect'\nimport { useCallback, useState } from 'react'\nimport { CHAINS, getAddChainParameters, URLS } from '../chains'\n\nfunction Select({\n  chainId,\n  switchChain,\n  displayDefault,\n  chainIds,\n}: {\n  chainId: number\n  switchChain: (chainId: number) => void | undefined\n  displayDefault: boolean\n  chainIds: number[]\n}) {\n  return (\n    <select\n      value={chainId}\n      onChange={(event) => {\n        switchChain?.(Number(event.target.value))\n      }}\n      disabled={switchChain === undefined}\n    >\n      {displayDefault ? <option value={-1}>Default Chain</option> : null}\n      {chainIds.map((chainId) => (\n        <option key={chainId} value={chainId}>\n          {CHAINS[chainId]?.name ?? chainId}\n        </option>\n      ))}\n    </select>\n  )\n}\n\nexport function ConnectWithSelect({\n  connector,\n  chainId,\n  targetChainId,\n  isActivating,\n  error,\n  selectable = true,\n  isActive,\n}: {\n  connector: MetaMask | WalletConnect | CoinbaseWallet | NufinetesConnector | Network\n  targetChainId?: number\n  chainId: ReturnType<Web3ReactHooks['useChainId']>\n  isActivating: ReturnType<Web3ReactHooks['useIsActivating']>\n  error: ReturnType<Web3ReactHooks['useError']>\n  selectable?: boolean\n  isActive: ReturnType<Web3ReactHooks['useIsActive']>\n}) {\n  const isNetwork = connector instanceof Network\n  const displayDefault = !isNetwork\n  const chainIds = (isNetwork ? Object.keys(URLS) : Object.keys(CHAINS)).map((chainId) => Number(chainId))\n\n  const [desiredChainId, setDesiredChainId] = useState<number>(isNetwork ? 1 : targetChainId ? targetChainId : -1)\n\n  const switchChain = useCallback(\n    async (desiredChainId: number) => {\n      setDesiredChainId(desiredChainId)\n      // if we're already connected to the desired chain, return\n      if (desiredChainId === chainId) return\n      // if they want to connect to the default chain and we're already connected, return\n      if (desiredChainId === -1 && chainId !== undefined) return\n\n      if (connector instanceof WalletConnect || connector instanceof Network) {\n        await connector.activate(desiredChainId === -1 ? undefined : desiredChainId)\n      } else {\n        await connector.activate(desiredChainId === -1 ? undefined : getAddChainParameters(desiredChainId))\n      }\n    },\n    [connector, chainId]\n  )\n\n  if (error) {\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {selectable && (\n          <Select\n            chainId={desiredChainId === -1 ? -1 : chainId}\n            switchChain={switchChain}\n            displayDefault={displayDefault}\n            chainIds={chainIds}\n          />\n        )}\n        <div style={{ marginBottom: '1rem' }} />\n        <button\n          onClick={() =>\n            connector instanceof WalletConnect || connector instanceof Network\n              ? void connector.activate(desiredChainId === -1 ? undefined : desiredChainId)\n              : void connector.activate(desiredChainId === -1 ? undefined : getAddChainParameters(desiredChainId))\n          }\n        >\n          Try Again?\n        </button>\n      </div>\n    )\n  } else if (isActive) {\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {selectable && (\n          <Select\n            chainId={desiredChainId === -1 ? -1 : chainId}\n            switchChain={switchChain}\n            displayDefault={displayDefault}\n            chainIds={chainIds}\n          />\n        )}\n        <div style={{ marginBottom: '1rem' }} />\n        <button onClick={() => void connector.deactivate()}>Disconnect</button>\n      </div>\n    )\n  } else {\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {selectable && (\n          <Select\n            chainId={desiredChainId}\n            switchChain={isActivating ? undefined : switchChain}\n            displayDefault={displayDefault}\n            chainIds={chainIds}\n          />\n        )}\n        <div style={{ marginBottom: '1rem' }} />\n        <button\n          onClick={\n            isActivating\n              ? undefined\n              : () =>\n                  connector instanceof WalletConnect || connector instanceof Network\n                    ? connector.activate(desiredChainId === -1 ? undefined : desiredChainId)\n                    : connector.activate(desiredChainId === -1 ? undefined : getAddChainParameters(desiredChainId))\n          }\n          disabled={isActivating}\n        >\n          Connect\n        </button>\n      </div>\n    )\n  }\n}\n","import type { Web3ReactHooks } from '@web3-react/core'\n\nexport function Status({\n  isActivating,\n  error,\n  isActive,\n}: {\n  isActivating: ReturnType<Web3ReactHooks['useIsActivating']>\n  error: ReturnType<Web3ReactHooks['useError']>\n  isActive: ReturnType<Web3ReactHooks['useIsActive']>\n}) {\n  return (\n    <div>\n      {error ? (\n        <>\n          🔴 {error.name ?? 'Error'}\n          {error.message ? `: ${error.message}` : null}\n        </>\n      ) : isActivating ? (\n        <>🟡 Connecting</>\n      ) : isActive ? (\n        <>🟢 Connected</>\n      ) : (\n        <>⚪️ Disconnected</>\n      )}\n    </div>\n  )\n}\n","import { useEffect } from 'react'\nimport { hooks, metaMask } from '../../connectors/metaMask'\nimport { Accounts } from '../Accounts'\nimport { Card } from '../Card'\nimport { Chain } from '../Chain'\nimport { ConnectWithSelect } from '../ConnectWithSelect'\nimport { Status } from '../Status'\n\nconst { useChainId, useAccounts, useError, useIsActivating, useIsActive, useProvider, useENSNames } = hooks\n\nexport default function MetaMaskCard() {\n  const chainId = useChainId()\n  const accounts = useAccounts()\n  const error = useError()\n  const isActivating = useIsActivating()\n\n  const isActive = useIsActive()\n\n  const provider = useProvider()\n  const ENSNames = useENSNames(provider)\n\n  // attempt to connect eagerly on mount\n  useEffect(() => {\n    void metaMask.connectEagerly()\n  }, [])\n\n  const handleSendRequest = () => {\n    const msgParams = ['Example `personal_sign` message', accounts[0]]\n    console.log(\n      (provider.provider as any).request,\n      (provider.provider as any).request({ method: 'personal_sign', params: msgParams }).then((res) => console.log(res))\n    )\n  }\n\n  return (\n    <Card>\n      <div>\n        <b>MetaMask</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: '1rem' }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} provider={provider} ENSNames={ENSNames} />\n      </div>\n      <div style={{ marginBottom: '1rem' }} />\n      <ConnectWithSelect\n        connector={metaMask}\n        chainId={chainId}\n        isActivating={isActivating}\n        error={error}\n        isActive={isActive}\n      />\n      <button onClick={() => console.log(provider)}>Check provider</button>\n      <button onClick={handleSendRequest}>SIGN</button>\n    </Card>\n  )\n}\n","import { initializeConnector } from \"@web3-react/core\";\nimport { WalletConnect } from \"@web3-react/walletconnect\";\nimport { URLS } from \"../chains\";\n\nexport const [walletConnect, hooks] = initializeConnector<WalletConnect>(\n  (actions) =>\n    new WalletConnect(actions, {\n      rpc: URLS as any,\n    }),\n  Object.keys(URLS).map((chainId) => Number(chainId))\n);\n","import { useEffect } from 'react'\nimport { hooks, walletConnect } from '../../connectors/walletConnect'\nimport { Accounts } from '../Accounts'\nimport { Card } from '../Card'\nimport { Chain } from '../Chain'\nimport { ConnectWithSelect } from '../ConnectWithSelect'\nimport { Status } from '../Status'\n\nconst { useChainId, useAccounts, useError, useIsActivating, useIsActive, useProvider, useENSNames } = hooks\n\nexport default function WalletConnectCard() {\n  const chainId = useChainId()\n  const accounts = useAccounts()\n  const error = useError()\n  const isActivating = useIsActivating()\n\n  const isActive = useIsActive()\n\n  const provider = useProvider()\n  const ENSNames = useENSNames(provider)\n  console.log(provider, 'check provder wc')\n  const handleSendRequest = () => {\n    const signParams = {\n      id: 1,\n      jsonrpc: '2.0',\n      method: 'vechain_certificate',\n      params: [\n        {\n          cert: JSON.stringify({\n            purpose: 'identification',\n            payload: {\n              type: 'text',\n              content: '112232344',\n            },\n            domain: window.location.origin,\n          }),\n        },\n      ],\n    }\n\n    if ((provider as any).sendCustomRequest) {\n      ;(provider as any).sendCustomRequest(signParams)\n    } else {\n      console.log(\n        (provider.provider as any).request,\n        (provider.provider as any)\n          .request({ method: 'personal_sign', params: ['check sign', accounts[0], 'example'] })\n          .then((res) => console.log(res))\n      )\n    }\n  }\n\n  // attempt to connect eagerly on mount\n  useEffect(() => {\n    void walletConnect.connectEagerly()\n  }, [])\n\n  return (\n    <Card>\n      <div>\n        <b>WalletConnect</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: '1rem' }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} provider={provider} ENSNames={ENSNames} />\n      </div>\n      <div style={{ marginBottom: '1rem' }} />\n      <ConnectWithSelect\n        connector={walletConnect}\n        chainId={chainId}\n        isActivating={isActivating}\n        error={error}\n        isActive={isActive}\n      />\n      <button onClick={() => console.log(provider)}>Check provider</button>\n      <button onClick={handleSendRequest}>Check provider</button>\n    </Card>\n  )\n}\n","import { initializeConnector } from \"@web3-react/core\";\nimport { NufinetesConnector } from \"@vimworld/nufinetes-link\";\nimport { URLS } from \"../chains\";\n\nexport const [nufinetes, hooks] = initializeConnector<NufinetesConnector>(\n  (actions) =>\n    new NufinetesConnector(actions, {\n      rpc: Object.keys(URLS).reduce((accumulator, chainId) => {\n        accumulator[chainId] = URLS[Number(chainId)][0];\n        return accumulator;\n      }, {}),\n    }),\n  [1, 2, 3, 4, 42, 56, 97, 818000000, 818000001]\n);\n","import { useEffect } from 'react'\nimport { hooks, nufinetes } from '../../connectors/nufinetes'\nimport { Accounts } from '../Accounts'\nimport { Card } from '../Card'\nimport { Chain } from '../Chain'\nimport { ConnectWithSelect } from '../ConnectWithSelect'\nimport { Status } from '../Status'\n\nconst { useChainId, useAccounts, useError, useIsActivating, useIsActive, useProvider } = hooks\n\nexport default function NefinetesCard() {\n  const chainId = useChainId()\n  const accounts = useAccounts()\n  const error = useError()\n  const isActivating = useIsActivating()\n\n  const isActive = useIsActive()\n\n  const provider = useProvider()\n  // const ENSNames = useENSNames(provider)\n  // attempt to connect eagerly on mount\n  console.log(provider, 'check provider')\n  useEffect(() => {\n    void nufinetes.connectEagerly()\n  }, [])\n\n  const handleSendRequest = () => {\n    if ((provider as any).sendCustomRequest) {\n      console.log(provider, 'check provider')\n      const message = { data: '0x4578616d706c652060706572736f6e616c5f7369676e60206d657373616765' }\n\n      const msgParams = {\n        id: 1,\n        jsonrpc: '2.0',\n        method: 'personal_sign',\n        params: ['Example `personal_sign` message', '0x639c55cb0053974b273446043353a9918eccb00c'],\n      }\n      \n      ;(provider as any).sendCustomRequest(msgParams).then((res) => console.log(res))\n    } else {\n      const message = { data: '0x4578616d706c652060706572736f6e616c5f7369676e60206d657373616765' }\n\n      const msgParams = ['Example `personal_sign` message', '0x639c55cb0053974b273446043353a9918eccb00c']\n      console.log(\n        (provider.provider as any).request,\n        (provider.provider as any)\n          .request({ method: 'personal_sign', params: msgParams })\n          .then((res) => console.log(res))\n      )\n    }\n  }\n\n  return (\n    <Card>\n      <div>\n        <b>Nufinetes</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: '1rem' }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} />\n      </div>\n      <div style={{ marginBottom: '1rem' }} />\n      <ConnectWithSelect\n        connector={nufinetes}\n        chainId={chainId}\n        isActivating={isActivating}\n        error={error}\n        selectable={false}\n        isActive={isActive}\n      />\n      <button onClick={() => console.log(provider, nufinetes.customProvider)}>Check provider</button>\n      <button onClick={handleSendRequest}>SIGN</button>\n    </Card>\n  )\n}\n","import { memo, useEffect, useState } from 'react'\nimport { useWeb3React, Web3ReactHooks, Web3ReactProvider } from '@web3-react/core'\n\nimport { MetaMask } from '@web3-react/metamask'\nimport { NufinetesConnector } from '@vimworld/nufinetes-link'\nimport type { Connector } from '@web3-react/types'\nimport { WalletConnect } from '@web3-react/walletconnect'\n\nfunction getName(connector: Connector) {\n  if (connector instanceof NufinetesConnector) return 'Nufinetes'\n  if (connector instanceof MetaMask) return 'MetaMask'\n  if (connector instanceof WalletConnect) return 'WalletConnect'\n  return 'Unknown'\n}\n\nconst CurrentWallet = memo(() => {\n  const { connector, chainId, accounts, isActivating, error, account, isActive, provider } = useWeb3React()\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} className=\"wrapper\">\n      <h1>Native Web3ReactProvider Status</h1>\n      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} className=\"inner\">\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 16 }}>\n          <div className=\"left\">Current Priority Wallet Type:</div>\n          <div style={{ fontWeight: 'bold', fontSize: 20 }} className=\"right\">\n            {getName(connector)}\n          </div>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 16 }}>\n          <div className=\"left\">Current Chain Id:</div>\n          <div style={{ fontWeight: 'bold', fontSize: 20 }} className=\"right\">\n            {chainId}\n          </div>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 16 }}>\n          <div className=\"left\">Wallet Connected Correct:</div>\n          <div style={{ fontWeight: 'bold', fontSize: 20 }} className=\"right\">\n            {isActive ? 'true' : 'false'}\n          </div>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 16 }}>\n          <div className=\"left\">is Activating:</div>\n          <div style={{ fontWeight: 'bold', fontSize: 20 }} className=\"right\">\n            {isActivating ? 'true' : 'false'}\n          </div>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 16 }}>\n          <div className=\"left\">Priority Account:</div>\n          <div style={{ fontWeight: 'bold', fontSize: 20 }} className=\"right\">\n            {account}\n          </div>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 16 }}>\n          <div className=\"left\">Accounts Provided:</div>\n          <div style={{ fontWeight: 'bold', fontSize: 20, textAlign: 'center' }} className=\"right\">\n            {accounts?.join(', ')}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n})\n\nexport default CurrentWallet\n","import { useWeb3React, Web3ReactHooks, Web3ReactProvider } from '@web3-react/core'\nimport { MetaMask } from '@web3-react/metamask'\nimport { NufinetesConnector } from '@vimworld/nufinetes-link'\nimport type { Connector } from '@web3-react/types'\nimport { WalletConnect } from '@web3-react/walletconnect'\nimport { hooks as metaMaskHooks, metaMask } from '../connectors/metaMask'\nimport { hooks as nufinetesHooks, nufinetes } from '../connectors/nufinetes'\nimport { hooks as walletConnectHooks, walletConnect } from '../connectors/walletConnect'\nimport CurrentWallet from './CurrentWallet'\n\n// function getName(connector: Connector) {\n//   if (connector instanceof NufinetesConnector) return 'Nufinetes'\n//   if (connector instanceof MetaMask) return 'MetaMask'\n//   if (connector instanceof WalletConnect) return 'WalletConnect'\n//   return 'Unknown'\n// }\n\nconst connectors: [MetaMask | NufinetesConnector | WalletConnect, Web3ReactHooks][] = [\n  [nufinetes, nufinetesHooks],\n  [metaMask, metaMaskHooks],\n  [walletConnect, walletConnectHooks],\n]\n\nexport default function ProviderExample() {\n  return (\n    <Web3ReactProvider connectors={connectors} lookupENS={false}>\n      <CurrentWallet />\n    </Web3ReactProvider>\n  )\n}\n","import { Link } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport MetaMaskCard from \"../components/connectors/MetaMaskCard\";\nimport WalletConnectCard from \"../components/connectors/WalletConnectCard\";\nimport NefinetesCard from \"../components/connectors/NefinetesCard\";\nimport ProviderExample from \"../components/ProviderExample\";\n\nexport default function Home() {\n  return (\n    <div\n      style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\n    >\n      <Header />\n\n      <div style={{ fontSize: 18, width: 800, textAlign: \"center\" }}>\n        Multi Wallet Connection\n        <br />\n        <br />\n        This example provides two panels to display the linking status of\n        Nufinetes and MetaMask respectively. MetaMask wallet can also actively\n        switch the chain that needs to be connected\n        <br />\n        <br />\n        Nufinetes has the highest priority, which means that if two wallets are\n        connected at the same time, The connector provided by useWeb3React\n        context will be Nufinetes, only Nufinetes is disconnected, the preferred\n        connector will become MetaMask\n      </div>\n\n      <div\n        style={{ display: \"flex\", flexFlow: \"wrap\", fontFamily: \"sans-serif\" }}\n      >\n        <NefinetesCard />\n        <MetaMaskCard />\n        <WalletConnectCard />\n        {/* <CoinbaseWalletCard /> */}\n        {/* <NetworkCard /> */}\n      </div>\n\n      <div style={{ fontSize: 18, width: 800, textAlign: \"center\" }}>\n        An example of a native Web3ReactProvider is demonstrated here\n        <br />\n        <br />\n        Native Web3ReactProvider provides connector, chainId, accounts,\n        isActivating, error, account, isActive, provider and other wallet states\n        or variables, it is enough for regular dapp&apos;s business needs, if there\n        is additional state that needs to be maintained, then you can\n        encapsulate a layer of provider in your business to provide status,\n        status can also be maintained by other state management tools\n        <br />\n        <br />\n        In the Dapp wallet example, the demonstration will encapsulate a layer\n        of Provider according to business needs: To simulating Vimworld Dapp\n        requires multi-account login and needs to obtain tokens separately\n        <Link to=\"/dapp\">Go and preview</Link>\n      </div>\n\n      <ProviderExample />\n    </div>\n  );\n}\n","export const handleGetCode = async (): Promise<string> => {\n  return await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve('code1122334455')\n    }, 2000)\n  })\n}\n\nexport const handleGetToken = async (params) => {\n  return await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(`token-${new Date().getTime()}`)\n    }, 3000)\n  })\n}\n\nexport function getQuery(url) {\n  const splitUrl = (url || '').split('?')\n  if (splitUrl.length < 2) {\n    return {}\n  }\n  let qs = splitUrl[1]\n  qs = qs.split('#')[0]\n  if (qs.length === 0) {\n    return {}\n  }\n  const paramPairs = qs.split('&')\n  const params = {}\n  paramPairs.forEach((e) => {\n    if (!e || e.length === 0) {\n      return\n    }\n    const pair = e.split('=')\n    if (pair.length < 2) {\n      return\n    }\n    const key = pair[0]\n    const value = pair.slice(1, pair.length).join('=')\n    if (value.length === 0) {\n      return\n    }\n    params[decodeURIComponent(key)] = decodeURIComponent(value)\n  })\n  return params\n}\n\nexport function refreshLink(address = '') {\n  const href = window.location.href\n  const params: any = getQuery(href)\n  if (!address && !params.userAddress) return\n  params.userAddress = address\n  const newParams = Object.keys(params).map((key: string) => {\n    return `${key}=${params[key]}`\n  })\n  let newHref = `${href.split('?')[0]}`\n  if (newParams.length > 0) {\n    newHref += `?${newParams.join('&')}`\n  }\n  if (`${window.location.href}`.includes('/Code403')) {\n    // 403刷新的时候跳转至dashboard\n    window.location.href = `${window.location.origin}/dashboard?userAddress=${address}`\n  } else {\n    window.location.href = newHref\n  }\n}\n","const WALLET_ADDRESS_KEY = 'userAddress'\nconst ACCESS_TOKEN_KEY = 'jwtToken'\nconst REFRESH_TOKEN_KEY = 'refresh'\nconst WALLET_CONNECT_SECTION_INDEX = 'walletConnectSectionIndex'\n\nconst storage = {\n    getAccessToken(walletAddressInput?: string): string {\n        const walletAddress = walletAddressInput\n        if (!walletAddress) return ''\n\n        const value = localStorage.getItem(ACCESS_TOKEN_KEY)\n        if (!value) return ''\n\n        const parseValue = JSON.parse(value)\n        return parseValue?.[walletAddress]?.accessToken || ''\n    },\n    setAccessInfoByWalletAddress(walletAddress: string, accessInfo: any): void {\n        const itemStr = localStorage.getItem(ACCESS_TOKEN_KEY)\n        let obj = {}\n        try {\n            obj = JSON.parse(itemStr) || {}\n        } catch (e) {\n            obj = {}\n        }\n\n        obj[walletAddress] = accessInfo\n\n        localStorage.setItem(ACCESS_TOKEN_KEY, JSON.stringify(obj))\n    },\n\n    setLocalStorageObject(key, subKey, value): void {\n        const itemStr = localStorage.getItem(key)\n        let obj = {}\n\n        try {\n            obj = JSON.parse(itemStr) || {}\n        } catch (e) {\n            console.log(e)\n        }\n\n        obj[subKey] = value\n\n        localStorage.setItem(key, JSON.stringify(obj))\n    },\n\n    getLocalStorageObject(key, subKey) {\n        const itemStr = localStorage.getItem(key)\n        let obj = {}\n\n        try {\n            obj = JSON.parse(itemStr) || {}\n        } catch (e) {\n            console.log(e)\n        }\n\n        return subKey ? obj[subKey] : obj\n    },\n}\n\nexport {storage}\n","import { createContext, useContext, ReactNode, useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { handleGetCode, handleGetToken, refreshLink } from '../utils'\nimport { storage } from '../utils/storage'\ninterface TokenBalanceProps extends TokenSubscriptionProps {\n  balance: number\n  decimals?: number\n}\n\ninterface TokenSubscriptionProps {\n  isSolid: boolean // won't remove even if forseUpdate is true\n  symbol: string\n  address: string\n  decimals?: number\n}\n\ninterface PrecisionMap {\n  amountPrecision: number\n  pricePrecision: number\n}\n\nconst AccountContext = createContext<\n  | {\n      account: string\n      currentAccount: string\n      authToken: string\n      handleConnect: () => void\n      handleLogout: () => void\n      isSigning: boolean\n      isRequestingCode: boolean\n      isLogining: boolean\n      acceptTermsData: {\n        address: string\n        loginCert: string\n        getTokenRes: string\n      }\n    }\n  | undefined\n>(undefined)\n\nconst keepSignInfo = (acceptTermsData) => {\n  if (typeof window === 'undefined') {\n    return\n  }\n  storage.setLocalStorageObject('_cert_', acceptTermsData.address, acceptTermsData.loginCert)\n  storage.setAccessInfoByWalletAddress(acceptTermsData.address, acceptTermsData.getTokenRes)\n  localStorage.setItem('userAddress', acceptTermsData.address)\n\n  // 更新签名时间\n  const agreeObj = storage.getLocalStorageObject('TermsConditionsAgree', null)\n  agreeObj[acceptTermsData.address] = new Date().getTime()\n  localStorage.setItem('TermsConditionsAgree', JSON.stringify(agreeObj))\n}\n\nexport const AccountProvider = ({ children }: { children: ReactNode }) => {\n  const { connector, chainId, accounts, isActivating, error, account, isActive, provider } = useWeb3React()\n  const [isRequestingCode, setIsRequestingCode] = useState(false)\n  const [isSigning, setIsSigning] = useState(false)\n  const [isLogining, setIsLogining] = useState(false)\n  const [currentAccount, setCurrentAccount] = useState('')\n  const [authCode, setAuthCode] = useState('')\n  const [acceptTermsData, setAcceptTermsData] = useState(Object.create(null))\n\n  const handleGetSignRes = async (code) => {\n    try {\n      const signParams = {\n        id: 1,\n        jsonrpc: '2.0',\n        method: 'vechain_certificate',\n        params: [\n          {\n            cert: JSON.stringify({\n              purpose: 'identification',\n              payload: {\n                type: 'text',\n                content: code,\n              },\n              domain: window.location.origin,\n            }),\n          },\n        ],\n      }\n      const walletSignRes = await (provider as any).sendCustomRequest(signParams)\n      return walletSignRes\n    } catch (error) {\n      throw new Error(error)\n    }\n  }\n\n  const handleConnect = async () => {\n    if (!isActive) {\n      connector.activate()\n    }\n    setIsRequestingCode(true)\n    const code = await handleGetCode()\n    console.log(code, 'check code')\n    if (code) {\n      setAuthCode(code)\n    }\n    setIsRequestingCode(false)\n  }\n\n  const handleSignAndLogin = async () => {\n    try {\n      setIsSigning(true)\n      const signRes = await handleGetSignRes(authCode)\n      console.log(signRes, 'check sign res')\n      setIsSigning(false)\n      const walletSignResObj = JSON.parse(signRes)\n      const signingAddress = (walletSignResObj.signer || '').toLowerCase()\n      const loginCert = {\n        chainId: chainId,\n        signature: walletSignResObj.signature,\n        certificate: {\n          purpose: 'purpose',\n          domain: walletSignResObj.domain,\n          signer: walletSignResObj.signer,\n          timestamp: walletSignResObj.timestamp,\n          payload: {\n            type: 'type',\n            content: authCode,\n          },\n        },\n      }\n      setIsLogining(true)\n      const tokenRes = await handleGetToken(loginCert)\n      setAcceptTermsData({\n        address: signingAddress,\n        getTokenRes: tokenRes,\n      })\n\n      setIsLogining(false)\n      handleConfirmLogin({\n        address: signingAddress,\n        getTokenRes: tokenRes,\n      })\n    } catch (error) {\n      console.log(error)\n      setIsSigning(false)\n      setAuthCode('')\n    }\n  }\n\n  const handleLogout = () => {\n    setIsSigning(false)\n    setIsLogining(false)\n    setIsRequestingCode(false)\n    setAuthCode('')\n    setAcceptTermsData(Object.create(null))\n    localStorage.removeItem('_cert_')\n    localStorage.removeItem('jwtToken')\n    localStorage.removeItem('userAddress')\n    connector.deactivate()\n  }\n\n  const handleConfirmLogin = (acceptTermsData) => {\n    const r = confirm('Accept terms and login ?')\n    console.log(acceptTermsData, r, 'check r')\n    if (r) {\n      setCurrentAccount(acceptTermsData.address)\n      refreshLink(acceptTermsData.address)\n      keepSignInfo(acceptTermsData)\n    } else {\n      setIsSigning(false)\n      setIsLogining(false)\n      setIsRequestingCode(false)\n      setAuthCode('')\n    }\n  }\n\n  useEffect(() => {\n    if (authCode && isActive) {\n      console.log('sign and logining')\n      handleSignAndLogin()\n    }\n  }, [authCode, isActive])\n\n  useEffect(() => {\n    if (!isActive || typeof window === 'undefined') {\n      return\n    }\n    const { search } = window.location\n    const _targetAddr = search.indexOf('userAddress') !== -1 ? search.split('userAddress=')[1] : ''\n    const curAccount = _targetAddr || account.toLowerCase()\n    const localToken = localStorage.getItem('jwtToken')\n    console.log(_targetAddr, account.toLowerCase(), localToken, 'check location')\n    if (!localToken) {\n      return\n    }\n\n    const parsedToken = JSON.parse(localToken)\n    if (!parsedToken?.[curAccount as string] && !parsedToken?.[account.toLowerCase()]) {\n      return\n    }\n\n    if (parsedToken?.[curAccount as string]) {\n      setCurrentAccount(curAccount)\n      setAcceptTermsData({\n        address: curAccount,\n        getTokenRes: parsedToken?.[curAccount as string],\n      })\n    } else if (parsedToken?.[account.toLowerCase()]) {\n      setCurrentAccount(account.toLowerCase())\n      setAcceptTermsData({\n        address: curAccount,\n        getTokenRes: parsedToken?.[account.toLowerCase()],\n      })\n    }\n  }, [isActive, account])\n\n  return (\n    <AccountContext.Provider\n      value={{\n        account,\n        currentAccount,\n        authToken: acceptTermsData?.getTokenRes,\n        handleConnect,\n        handleLogout,\n        isSigning,\n        isRequestingCode,\n        isLogining,\n        acceptTermsData,\n      }}\n    >\n      {children}\n    </AccountContext.Provider>\n  )\n}\n\nexport const useAccount = () => {\n  const context = useContext(AccountContext)\n\n  if (!context) {\n    throw new Error('useAccountProvider must be used in AccountProvider')\n  } else {\n    return context\n  }\n}\n","import { memo, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { useWeb3React } from '@web3-react/core'\nimport { useAccount } from '../AccountProvider'\n\nconst Dapp = memo(() => {\n  const { connector, chainId, accounts, isActivating, error, account, isActive } = useWeb3React()\n  const { currentAccount, authToken, handleConnect, handleLogout, isSigning, isRequestingCode, isLogining } =\n    useAccount()\n\n  useEffect(() => {\n    connector.connectEagerly()\n  }, [])\n\n  return (\n    <DappWrapper>\n      <DappContent>\n        <>\n          {isRequestingCode && <span>正在获取登录 code</span>}\n          {isSigning && <span>请在钱包内完成登录签名</span>}\n          {isLogining && <span>登录中...</span>}\n        </>\n        {!authToken ? (\n          <>\n            {!(isSigning || isRequestingCode || isLogining) ? (\n              <>\n                {isActivating ? (\n                  <span>Activating</span>\n                ) : (\n                  <ConnectButton onClick={handleConnect}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31.785\" height=\"31.053\">\n                      <path\n                        fill=\"#fff\"\n                        d=\"M23.944 9.839l-2.3-3.984a1.1 1.1 0 00-1.494-.407L5.035 14.174a1.1 1.1 0 01-1.1-1.905L19.05 3.543a1.1 1.1 0 00-1.1-1.906L2.835 10.364a3.286 3.286 0 00-1.185 4.494l7.7 13.337a3.286 3.286 0 004.485 1.221L28.95 20.69a1.1 1.1 0 00.394-1.498l-2.3-3.984a3.289 3.289 0 00-3.1-5.37zm2.96 9.491l-14.17 8.181a1.1 1.1 0 01-1.494-.407L5.09 16.452a3.212 3.212 0 001.045-.372l14.17-8.182 1.65 2.858-2.834 1.637a3.3 3.3 0 003.3 5.715l2.835-1.636zM25.1 14.022l-3.779 2.181a1.1 1.1 0 01-1.1-1.905L24 12.116a1.1 1.1 0 011.1 1.906z\"\n                      ></path>\n                    </svg>\n                  </ConnectButton>\n                )}\n              </>\n            ) : null}\n          </>\n        ) : (\n          <AccountContent>\n            {authToken}\n            <div className=\"button-group\">\n              <div onClick={handleConnect} className=\"single-button add\">\n                Add Account\n              </div>\n              <div onClick={handleLogout} className=\"single-button\">\n                Logout\n              </div>\n            </div>\n          </AccountContent>\n        )}\n      </DappContent>\n\n      <h1>Dapp Account Status</h1>\n      <div className=\"inner\">\n        <StatusLine>\n          <div className=\"left\">Auth Token:</div>\n          <div className=\"right\">{authToken}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Is Signing:</div>\n          <div className=\"right\">{isSigning ? 'true' : 'false'}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Account Using:</div>\n          <div className=\"right\">{currentAccount}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Priority Account:</div>\n          <div className=\"right\">{account}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Accounts Provided:</div>\n          <div className=\"right\">\n            {accounts?.length\n              ? accounts.map((a) => (\n                  <span key={a} className={a.toLowerCase() === currentAccount.toLowerCase() ? 'red' : ''}>\n                    {a}\n                    <br />\n                  </span>\n                ))\n              : ''}\n          </div>\n        </StatusLine>\n      </div>\n\n      <h1>Nufinetes Status</h1>\n      <div className=\"inner\">\n        <StatusLine>\n          <div className=\"left\">Current Chain Id:</div>\n          <div className=\"right\">{chainId}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Wallet Connected Correct:</div>\n          <div className=\"right\">{isActive ? 'true' : 'false'}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">is Activating:</div>\n          <div className=\"right\">{isActivating ? 'true' : 'false'}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Priority Account:</div>\n          <div className=\"right\">{account}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Accounts Provided:</div>\n          <div className=\"right\">{accounts?.join(', ')}</div>\n        </StatusLine>\n        <StatusLine>\n          <div className=\"left\">Error:</div>\n          <div className=\"right\">{JSON.stringify({ error })}</div>\n        </StatusLine>\n      </div>\n    </DappWrapper>\n  )\n})\n\nexport default Dapp\n\nconst DappWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`\n\nconst StatusLine = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 700px;\n  font-size: 20px;\n  margin-bottom: 14px;\n\n  .right {\n    font-weight: bold;\n    word-break: break-all;\n    max-width: 450px;\n\n    .red {\n      color: red;\n    }\n  }\n`\n\nconst DappContent = styled.div`\n  height: 200px;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: solid 1px;\n  width: 500px;\n  margin-top: 20px;\n`\n\nconst ConnectButton = styled.div`\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  background: #f44336;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`\n\nconst AccountContent = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  .button-group {\n    .single-button {\n      min-width: 120px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      border: solid 1px #000;\n      border-radius: 10px;\n      margin-top: 12px;\n      cursor: pointer;\n      &:hover {\n        &.add {\n          background: #1665e3;\n        }\n        background: #ff4436;\n      }\n    }\n  }\n`\n","import { Web3ReactHooks, Web3ReactProvider } from \"@web3-react/core\";\nimport Header from \"../components/Header\";\nimport { AccountProvider } from \"../components/AccountProvider\";\nimport Dapp from \"../components/dappComponents/Dapp\";\n\nimport { MetaMask } from \"@web3-react/metamask\";\nimport { NufinetesConnector } from \"@vimworld/nufinetes-link\";\nimport type { Connector } from \"@web3-react/types\";\nimport { WalletConnect } from \"@web3-react/walletconnect\";\n// import { hooks as metaMaskHooks, metaMask } from '../connectors/metaMask'\nimport { hooks as nufinetesHooks, nufinetes } from \"../connectors/nufinetes\";\n// import { hooks as walletConnectHooks, walletConnect } from '../connectors/walletConnect'\n\nconst connectors: [\n  MetaMask | NufinetesConnector | WalletConnect,\n  Web3ReactHooks\n][] = [\n  [nufinetes, nufinetesHooks],\n  // [metaMask, metaMaskHooks],\n  // [walletConnect, walletConnectHooks],\n];\n\nexport default function Home() {\n  return (\n    <div\n      style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\n    >\n      <Header />\n\n      <div style={{ fontSize: 18, width: 800, textAlign: \"center\" }}>\n        Dapp Example\n        <br />\n        This example provides a simulation of Dapp-related business, such as the\n        need to obtain a login token after the wallet is connected, and the feature\n        of multi-wallet login\n      </div>\n\n      <Web3ReactProvider connectors={connectors} lookupENS={false}>\n        <AccountProvider>\n          <Dapp />\n        </AccountProvider>\n      </Web3ReactProvider>\n    </div>\n  );\n}\n","import { useState } from 'react'\nimport styled from 'styled-components'\nimport { recoverPersonalSignature } from '@metamask/eth-sig-util'\n\nconst PersonalSign = ({ provider, account, type }) => {\n  const [sigRes, setSigRes] = useState('')\n  const [recoverRes, setRecoverRes] = useState('')\n  const [signMessage, setSignMessage] = useState('Example `personal_sign` message')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const handleSendRequest = () => {\n    const msgParams = [signMessage, account]\n\n    if (!provider?.request) {\n      setErrorMessage('Provider does not support Eth signs')\n      return\n    }\n\n    provider.request({ method: 'personal_sign', params: msgParams }).then((res) => setSigRes(res))\n  }\n\n  const handleRecover = async () => {\n    if (!sigRes) {\n      return\n    }\n    const recoveredAddress = await recoverPersonalSignature({\n      data: signMessage,\n      signature: sigRes,\n    })\n    setRecoverRes(recoveredAddress)\n  }\n\n  const handleChange = (e) => {\n    setSignMessage(e.target.value)\n  }\n\n  return (\n    <Wrapper className={type}>\n      <h4>Personal Sign</h4>\n      <StyledInput value={signMessage} onChange={handleChange} />\n      <StyledButton onClick={handleSendRequest}>Personal Sign</StyledButton>\n      <StyledLabel>Sign Result</StyledLabel>\n      <StyledResult>{sigRes || ''}</StyledResult>\n      <StyledButton onClick={handleRecover}>Recover signature</StyledButton>\n      <StyledLabel>Recover Result</StyledLabel>\n      <StyledResult className=\"recover\">{recoverRes || ''}</StyledResult>\n      {errorMessage && <div style={{ color: 'red' }}>{errorMessage}</div>}\n    </Wrapper>\n  )\n}\n\nexport default PersonalSign\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 20px;\n  width: 280px;\n  margin-top: 20px;\n  padding-top: 0;\n\n  &.nufinetes {\n    background: #caf7ff;\n  }\n  &.metamask {\n    background: #ffebb4;\n  }\n\n  h4 {\n    margin: 12px auto;\n  }\n`\n\nconst StyledInput = styled.textarea`\n  width: 100%;\n`\n\nconst StyledButton = styled.button`\n  width: 100%;\n  margin-bottom: 12px;\n  margin-top: 12px;\n`\n\nconst StyledLabel = styled.div`\n  width: 100%;\n  text-align: left;\n  font-size: 12px;\n`\n\nconst StyledResult = styled.div`\n  width: 100%;\n  min-height: 120px;\n  background-color: #dbdbdb;\n  padding: 10px;\n  font-size: 14px;\n  word-wrap: break-word;\n  box-sizing: border-box;\n  border-radius: 8px;\n\n  &.recover {\n    min-height: 80px;\n  }\n`\n","import { useState } from 'react'\nimport styled from 'styled-components'\nimport { recoverTypedSignature, SignTypedDataVersion } from '@metamask/eth-sig-util'\n\nconst PersonalSign = ({ provider, account, type }) => {\n  const [sigRes, setSigRes] = useState('')\n  const [recoverRes, setRecoverRes] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const signData = {\n    domain: {\n      name: 'Ether Mail',\n      verifyingContract: '0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC',\n      version: '1',\n    },\n    message: {\n      contents: 'Hello, Bob!',\n      from: {\n        name: 'Cow',\n        wallets: ['0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826', '0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF'],\n      },\n      to: [\n        {\n          name: 'Bob',\n          wallets: [\n            '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB',\n            '0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57',\n            '0xB0B0b0b0b0b0B000000000000000000000000000',\n          ],\n        },\n      ],\n    },\n    primaryType: 'Mail' as const,\n    types: {\n      EIP712Domain: [\n        { name: 'name', type: 'string' },\n        { name: 'version', type: 'string' },\n        { name: 'verifyingContract', type: 'address' },\n      ],\n      Group: [\n        { name: 'name', type: 'string' },\n        { name: 'members', type: 'Person[]' },\n      ],\n      Mail: [\n        { name: 'from', type: 'Person' },\n        { name: 'to', type: 'Person[]' },\n        { name: 'contents', type: 'string' },\n      ],\n      Person: [\n        { name: 'name', type: 'string' },\n        { name: 'wallets', type: 'address[]' },\n      ],\n    },\n  }\n\n  const handleSendRequest = () => {\n    const msgParams = [account, JSON.stringify(signData)]\n\n    if (!provider?.request) {\n      setErrorMessage('Provider does not support Eth signs')\n      return\n    }\n    provider.request({ method: 'eth_signTypedData_v4', params: msgParams }).then((res) => setSigRes(res))\n  }\n\n  const handleRecover = async () => {\n    if (!sigRes) {\n      return\n    }\n    const recoveredAddress = await recoverTypedSignature({\n      data: signData,\n      signature: sigRes,\n      version: SignTypedDataVersion.V4,\n    })\n    setRecoverRes(recoveredAddress)\n  }\n\n  return (\n    <Wrapper className={type}>\n      <h4>Sign Typed Data V4</h4>\n\n      <StyledResult>{`\n          message: {\n            contents: 'Hello, Bob!',\n            from: {\n              name: 'Cow',\n              wallets: ['0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826', '0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF'],\n            },\n            to: [\n              {\n                name: 'Bob',\n                wallets: [\n                  '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB',\n                  '0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57',\n                  '0xB0B0b0b0b0b0B000000000000000000000000000',\n                ],\n              },\n            ],\n          },\n      `}</StyledResult>\n      <StyledButton onClick={handleSendRequest}>Sign Typed Data V4</StyledButton>\n      <StyledLabel>Sign Result</StyledLabel>\n      <StyledResult>{sigRes || ''}</StyledResult>\n      <StyledButton onClick={handleRecover}>Recover signature</StyledButton>\n      <StyledLabel>Recover Result</StyledLabel>\n      <StyledResult className=\"recover\">{recoverRes || ''}</StyledResult>\n      {errorMessage && <div style={{ color: 'red' }}>{errorMessage}</div>}\n    </Wrapper>\n  )\n}\n\nexport default PersonalSign\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 20px;\n  width: 280px;\n  margin-top: 20px;\n  padding-top: 0;\n\n  &.nufinetes {\n    background: #caf7ff;\n  }\n  &.metamask {\n    background: #ffebb4;\n  }\n\n  h4 {\n    margin: 12px auto;\n  }\n`\n\nconst StyledButton = styled.button`\n  width: 100%;\n  margin-bottom: 12px;\n  margin-top: 12px;\n`\n\nconst StyledLabel = styled.div`\n  width: 100%;\n  text-align: left;\n  font-size: 12px;\n`\n\nconst StyledResult = styled.div`\n  width: 100%;\n  min-height: 120px;\n  background-color: #dbdbdb;\n  padding: 10px;\n  font-size: 14px;\n  word-wrap: break-word;\n  box-sizing: border-box;\n  border-radius: 8px;\n\n  &.recover {\n    min-height: 80px;\n  }\n`\n","import { useEffect } from 'react'\nimport { hooks, metaMask } from '../../connectors/metaMask'\nimport { Accounts } from '../Accounts'\nimport { Card } from '../Card'\nimport { Chain } from '../Chain'\nimport { ConnectWithSelect } from '../ConnectWithSelect'\nimport { Status } from '../Status'\nimport PersonalSign from './PersonalSign'\nimport SignTypedDataV4 from './SignTypedDataV4'\n\nconst { useChainId, useAccounts, useError, useIsActivating, useIsActive, useProvider, useENSNames } = hooks\n\nexport default function MetaMaskCard() {\n  const chainId = useChainId()\n  const accounts = useAccounts()\n  const error = useError()\n  const isActivating = useIsActivating()\n\n  const isActive = useIsActive()\n\n  const provider = useProvider()\n\n  // attempt to connect eagerly on mount\n  useEffect(() => {\n    void metaMask.connectEagerly()\n  }, [])\n\n  return (\n    <Card>\n      <div>\n        <b>MetaMask</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: '1rem' }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} />\n      </div>\n      <div style={{ marginBottom: '1rem' }} />\n      <ConnectWithSelect\n        connector={metaMask}\n        chainId={chainId}\n        isActivating={isActivating}\n        error={error}\n        selectable={false}\n        isActive={isActive}\n      />\n      <PersonalSign account={accounts?.[0]} provider={provider?.provider} type=\"metamask\" />\n      <SignTypedDataV4 account={accounts?.[0]} provider={provider?.provider} type=\"metamask\" />\n    </Card>\n  )\n}\n","import { useEffect } from 'react'\nimport { hooks, nufinetes } from '../../connectors/nufinetes'\nimport { Accounts } from '../Accounts'\nimport { Card } from '../Card'\nimport { Chain } from '../Chain'\nimport { ConnectWithSelect } from '../ConnectWithSelect'\nimport { Status } from '../Status'\nimport PersonalSign from './PersonalSign'\nimport SignTypedDataV4 from './SignTypedDataV4'\n\nconst { useChainId, useAccounts, useError, useIsActivating, useIsActive, useProvider } = hooks\n\nexport default function NefinetesCard() {\n  const chainId = useChainId()\n  const accounts = useAccounts()\n  const error = useError()\n  const isActivating = useIsActivating()\n\n  const isActive = useIsActive()\n\n  const provider = useProvider()\n  // const ENSNames = useENSNames(provider)\n  // attempt to connect eagerly on mount\n  useEffect(() => {\n    void nufinetes.connectEagerly()\n  }, [])\n\n  return (\n    <Card>\n      <div>\n        <b>Nufinetes</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: '1rem' }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} />\n      </div>\n      <div style={{ marginBottom: '1rem' }} />\n      <ConnectWithSelect\n        connector={nufinetes}\n        chainId={chainId}\n        isActivating={isActivating}\n        error={error}\n        selectable={false}\n        isActive={isActive}\n      />\n\n      <PersonalSign account={accounts?.[0]} provider={provider?.provider} type=\"nufinetes\" />\n      <SignTypedDataV4 account={accounts?.[0]} provider={provider?.provider} type=\"nufinetes\" />\n    </Card>\n  )\n}\n","import Header from '../components/Header'\nimport MetamaskSign from '../components/signComponents/MetamaskSign'\nimport NefinetesSign from '../components/signComponents/NufinetesSign'\n\nexport default function Home() {\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n      <Header />\n\n      <div style={{ fontSize: 18, width: 800, textAlign: 'center' }}>\n        Eth Sign Examples\n        <br />\n        This example provides two panels to demonstrate the signature function of Nufinetes and MetaMask respectively. When the wallet address is the same and the signature content is the same, the signature results should be consistent\n      </div>\n\n      <div style={{ display: 'flex', flexFlow: 'wrap', fontFamily: 'sans-serif' }}>\n        <NefinetesSign />\n        <MetamaskSign />\n      </div>\n    </div>\n  )\n}\n","import { formatUnits } from \"ethers/lib/utils\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useEffect, useState } from \"react\";\nimport { hooks, nufinetes } from \"../../connectors/nufinetes\";\nimport { Accounts } from \"../Accounts\";\nimport { Card } from \"../Card\";\nimport { Chain } from \"../Chain\";\nimport { Status } from \"../Status\";\nimport ERC20_ABI from \"./erc20.json\";\n\nconst {\n  useChainId,\n  useAccounts,\n  useError,\n  useIsActivating,\n  useIsActive,\n  useProvider,\n} = hooks;\n\nconst Link_Addr = \"0xa36085F69e2889c224210F603D836748e7dC0088\";\nconst Mock_Contract = \"0xdd612965659fe530869f9e224286d232334b4bd3\";\nconst Link_Faucet = \"https://faucets.chain.link/\";\nexport const GAS_LIMIT_COSTS = 1000;\nexport default function NefinetesCard() {\n  const chainId = useChainId();\n  const accounts = useAccounts();\n  const error = useError();\n  const isActivating = useIsActivating();\n  const _isActive = useIsActive();\n  const isActive = accounts && _isActive;\n\n  const provider = useProvider();\n\n  const [ethBalance, setEthBalance] = useState(0);\n  const [linkBalance, setLinkBalance] = useState(0);\n  const [approvedAmount, setApprovedAmount] = useState(0);\n  const [txHash, setTxHash] = useState(\"\");\n  // const ENSNames = useENSNames(provider)\n  // attempt to connect eagerly on mount\n  // console.log(nufinetes.provider.uri)\n  useEffect(() => {\n    void nufinetes.connectEagerly();\n  }, []);\n\n  const getNativeTokenBalance = async (account, provider): Promise<number> => {\n    try {\n      if (!account || !provider) {\n        return;\n      }\n      const _balance = await provider.getBalance(account);\n      if (+_balance || +_balance === 0) {\n        return +formatUnits(_balance, 18);\n      }\n      return null;\n    } catch (error) {\n      console.log(error, \"check balance error\");\n      return null;\n    }\n  };\n\n  const APPROVE_AMOUNT = \"0xffffff\";\n\n  const handleBalanceAndApprove = async () => {\n    // ;(provider as any).sendCustomRequest(signParams)\n    // return\n    const balance = await getNativeTokenBalance(accounts[0], provider);\n    // console.log(balance, 'check balance')\n    setEthBalance(balance);\n\n    const contract = new Contract(Link_Addr, ERC20_ABI, provider.getSigner());\n    const _balance = await contract.balanceOf(accounts[0]);\n    const _decimals = await contract.decimals();\n\n    setLinkBalance(+formatUnits(_balance, _decimals));\n\n    const addressApprowed = await contract.allowance(\n      accounts[0],\n      Mock_Contract,\n      {\n        gasLimit: 1000000,\n      }\n    );\n    setApprovedAmount(Number(addressApprowed));\n  };\n\n  const getApprove = async () => {\n    const contract = new Contract(Link_Addr, ERC20_ABI, provider.getSigner());\n\n    const tx = await contract.approve(Mock_Contract, APPROVE_AMOUNT, {});\n    setTxHash(tx.hash);\n    const receipt = await tx.wait();\n  };\n\n  return (\n    <Card>\n      <div>\n        <b>Nufinetes</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: \"1rem\" }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} />\n      </div>\n      <div style={{ marginBottom: \"1rem\" }} />\n\n      {!isActive && (\n        <button onClick={() => nufinetes.activate(42)}>Connect</button>\n      )}\n\n      {isActive && (\n        <button onClick={() => nufinetes.deactivate()}>Disconnect</button>\n      )}\n\n      {chainId === 42 ? (\n        <>\n          {\" \"}\n          <button onClick={handleBalanceAndApprove}>\n            Get Balance And Approve\n          </button>\n          <div>Eth Balance: {ethBalance}</div>\n          <div>Link Balance: {linkBalance}</div>\n          <div>Link Approve: {approvedAmount}</div>\n          <button onClick={getApprove}>Get Approve</button>\n          <div style={{ wordBreak: \"break-all\" }}>Tx Hash: {txHash}</div>\n          <div style={{ marginTop: 10 }}>Link Contract Address: </div>\n          <div>{Link_Addr}</div>\n          <div style={{ color: \"green\" }}>Link Faucet Address: </div>\n          <a href={Link_Faucet} rel=\"noreferrer\" target=\"_blank\">\n            {Link_Faucet}\n          </a>\n        </>\n      ) : (\n        <span\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: 10,\n            textAlign: \"center\",\n          }}\n        >\n          Please Switch to Eth Kovan Testnet on Nufinetes\n        </span>\n      )}\n    </Card>\n  );\n}\n","import Header from \"../components/Header\";\n\nimport EthKovan from \"../components/contractCallComponents/EthKovan\";\n\nexport default function Home() {\n  return (\n    <div\n      style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\n    >\n      <Header />\n\n      <div style={{ fontSize: 18, width: 800, textAlign: \"center\" }}>\n        Eth Contract Call\n        <br />\n        This example provides balance query and contract call on the Kovan\n        testnet\n      </div>\n\n      <div\n        style={{ display: \"flex\", flexFlow: \"wrap\", fontFamily: \"sans-serif\" }}\n      >\n        <EthKovan />\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport { hooks, nufinetes } from \"../../connectors/nufinetes\";\nimport { Accounts } from \"../Accounts\";\nimport { Card } from \"../Card\";\nimport { Chain } from \"../Chain\";\nimport { Status } from \"../Status\";\nimport * as Devkit from \"thor-devkit\";\nimport Connex from \"@vechain/connex\";\n\nconst {\n  useChainId,\n  useAccounts,\n  useError,\n  useIsActivating,\n  useIsActive,\n  useProvider,\n} = hooks;\n\nconst Veed_Addr = \"0xa39a4b2e23220305083e2e7c94c8950ef1e641c6\";\nexport const GAS_LIMIT_COSTS = 1000;\n\nconst connex = new Connex({\n  node: \"https://testnet.veblocks.net/\", // veblocks public node, use your own if needed\n  network: \"test\", // defaults to mainnet, so it can be omitted here\n});\n\nexport default function NefinetesCard() {\n  const chainId = useChainId();\n  const accounts = useAccounts();\n  const error = useError();\n  const isActivating = useIsActivating();\n  const _isActive = useIsActive();\n  const isActive = accounts && _isActive;\n\n  const provider = useProvider();\n\n  const [veedBalance, setVeedBalance] = useState(0);\n  const [amountValue, setAmountValue] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [txHash, setTxHash] = useState(\"\");\n  const sessionIdRef = useRef(1);\n  // const ENSNames = useENSNames(provider)\n  // attempt to connect eagerly on mount\n  // console.log(nufinetes.provider.uri)\n  useEffect(() => {\n    void nufinetes.connectEagerly();\n  }, []);\n\n  const balanceOfVeed = async () => {\n    const balanceOfABI = {\n      constant: true,\n      inputs: [{ name: \"_owner\", type: \"address\" }],\n      name: \"balanceOf\",\n      outputs: [{ name: \"balance\", type: \"uint256\" }],\n      payable: false,\n      stateMutability: \"view\",\n      type: \"function\",\n    };\n\n    const acc = connex.thor.account(Veed_Addr);\n    const method = acc.method(balanceOfABI);\n    const result = await method.call(accounts[0]);\n    const fnABI = new Devkit.abi.Function(\n      balanceOfABI as Devkit.abi.Function.Definition\n    );\n    const balanceRes = fnABI.decode(result.data);\n    setVeedBalance(balanceRes.balance / 1e18);\n  };\n\n  const contractRequest = async (params): Promise<{ txid: string }> => {\n    const { address, clauseList } = params;\n    console.log({ clauseList, str: JSON.stringify(clauseList) });\n    try {\n      const transferTokenJSON = {\n        id: sessionIdRef.current,\n        jsonrpc: \"2.0\",\n        method: \"vechain_transaction\",\n        params: [\n          clauseList,\n          {\n            broadcast: true,\n            chainId: (provider as any).chainId,\n            signer: address,\n          },\n        ],\n      };\n      sessionIdRef.current++;\n      const res = await (provider as any).sendCustomRequest(transferTokenJSON);\n      return res;\n    } catch (error) {\n      console.log({ sendCustomRequest: error.message });\n      return Promise.reject(error.message || \"Payment failed\");\n    }\n  };\n\n  const transferVeed = async () => {\n    if (!amountValue || Number.isNaN(+amountValue)) {\n      alert(\"Please input number\");\n      return;\n    } else if (!address) {\n      alert(\"Please input receiver address\");\n      return;\n    }\n\n    const transferABI = {\n      constant: false,\n      inputs: [\n        { name: \"_to\", type: \"address\" },\n        { name: \"_amount\", type: \"uint256\" },\n      ],\n      name: \"transfer\",\n      outputs: [{ name: \"success\", type: \"bool\" }],\n      payable: false,\n      stateMutability: \"nonpayable\",\n      type: \"function\",\n    };\n\n    const big = BigInt(parseFloat(amountValue) * Math.pow(10, 18));\n\n    const params = [address, big.toString()];\n\n    const clauseParams = connex.thor\n      .account(Veed_Addr)\n      .method(transferABI)\n      .asClause(...params);\n\n    const clause = [\n      { comment: `Transfer ${amountValue} VEED`, ...clauseParams },\n    ];\n\n    const transactionRes = await contractRequest({\n      address: accounts[0].toLocaleLowerCase(),\n      comment: `Transfer ${amountValue} VEED`,\n      clauseList: clause,\n    });\n\n    if (transactionRes && transactionRes.txid) {\n      setTxHash(transactionRes.txid);\n    }\n  };\n\n  return (\n    <Card>\n      <div>\n        <b>Nufinetes</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: \"1rem\" }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} />\n      </div>\n      <div style={{ marginBottom: \"1rem\" }} />\n\n      {!isActive && (\n        <button onClick={() => nufinetes.activate(42)}>Connect</button>\n      )}\n\n      {isActive && (\n        <button onClick={() => nufinetes.deactivate()}>Disconnect</button>\n      )}\n\n      {chainId === 818000001 ? (\n        <>\n          {\" \"}\n          <button onClick={balanceOfVeed}>Get Balance of Veed</button>\n          <div>Veed Balance: {veedBalance}</div>\n          <div style={{ wordBreak: \"break-all\" }}>Tx Hash: </div>\n          <div style={{ marginTop: 10 }}>Veed Contract Address: </div>\n          <div>{Veed_Addr}</div>\n          <div style={{ marginTop: 10 }}>\n            <span>Input Veed Amount</span>\n            <br />\n            <input\n              style={{ width: \"100%\", height: 30 }}\n              type=\"text\"\n              value={amountValue}\n              onChange={(e) => setAmountValue(e.target.value)}\n            />\n          </div>\n          <div style={{ margin: \"10px 0\" }}>\n            <span>Input Receiver Address</span>\n            <br />\n            <input\n              style={{ width: \"100%\", height: 30 }}\n              type=\"text\"\n              value={address}\n              onChange={(e) => setAddress(e.target.value)}\n            />\n          </div>\n          <button onClick={transferVeed}>Transfer Veed</button>\n          <div style={{ wordBreak: \"break-all\" }}>Tx Hash: {txHash}</div>\n        </>\n      ) : (\n        <span\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: 10,\n            textAlign: \"center\",\n          }}\n        >\n          Please Switch to Vechain Testnet on Nufinetes\n        </span>\n      )}\n    </Card>\n  );\n}\n","import Header from \"../components/Header\";\n\nimport VechainTest from \"../components/contractCallComponents/VechainTest\";\n\nexport default function Home() {\n  return (\n    <div\n      style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\n    >\n      <Header />\n\n      <div style={{ fontSize: 18, width: 800, textAlign: \"center\" }}>\n        Vechain Contract Call\n        <br />\n        This example provides balance inquiries and contract calls on the\n        VeChain testnet\n      </div>\n\n      <div\n        style={{ display: \"flex\", flexFlow: \"wrap\", fontFamily: \"sans-serif\" }}\n      >\n        <VechainTest />\n      </div>\n    </div>\n  );\n}\n","import { formatUnits } from \"ethers/lib/utils\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useEffect, useState } from \"react\";\nimport { hooks, nufinetes } from \"../../connectors/nufinetes\";\nimport { Accounts } from \"../Accounts\";\nimport { Card } from \"../Card\";\nimport { Chain } from \"../Chain\";\nimport { Status } from \"../Status\";\nimport ERC20_ABI from \"./erc20.json\";\nimport { RPCSubprovider, SignerSubprovider, Web3JsProvider, Web3ProviderEngine } from \"@0x/subproviders\";\nimport { Web3Provider } from \"@ethersproject/providers\";\n\nconst {\n  useChainId,\n  useAccounts,\n  useError,\n  useIsActivating,\n  useIsActive,\n  useProvider,\n} = hooks;\n\nconst USDT_Addr = \"0x7ef95a0fee0dd31b22626fa2e10ee6a223f8a684\";\nconst Mock_Contract = \"0x891Fb1372C815B62e1ddB6520eC54f5A6E0Ee625\";\nexport const GAS_LIMIT_COSTS = 1000;\nexport default function NefinetesCard() {\n  const chainId = useChainId();\n  const accounts = useAccounts();\n  const error = useError();\n  const isActivating = useIsActivating();\n  const _isActive = useIsActive();\n  const isActive = accounts && _isActive;\n\n  const provider = useProvider();\n\n  const [ethBalance, setEthBalance] = useState(0);\n  const [linkBalance, setUSDTBalance] = useState(0);\n  const [approvedAmount, setApprovedAmount] = useState(0);\n  const [txHash, setTxHash] = useState(\"\");\n  // const ENSNames = useENSNames(provider)\n  // attempt to connect eagerly on mount\n  // console.log(nufinetes.provider.uri)\n  useEffect(() => {\n    void nufinetes.connectEagerly();\n  }, []);\n\n  const getNativeTokenBalance = async (account, provider): Promise<number> => {\n    try {\n      if (!account || !provider) {\n        return;\n      }\n      const _balance = await provider.getBalance(account);\n      if (+_balance || +_balance === 0) {\n        return +formatUnits(_balance, 18);\n      }\n      return null;\n    } catch (error) {\n      console.log(error, \"check balance error\");\n      return null;\n    }\n  };\n\n  const APPROVE_AMOUNT = \"0xffffff\";\n\n  const handleBalanceAndApprove = async () => {\n    // ;(provider as any).sendCustomRequest(signParams)\n    // return\n    const balance = await getNativeTokenBalance(accounts[0], provider);\n    // console.log(balance, 'check balance')\n    setEthBalance(balance);\n    \n    const contract = new Contract(USDT_Addr, ERC20_ABI, provider.getSigner());\n    const _balance = await contract.balanceOf(accounts[0]);\n    const _decimals = await contract.decimals();\n\n    setUSDTBalance(+formatUnits(_balance, _decimals));\n\n    const addressApprowed = await contract.allowance(\n      accounts[0],\n      Mock_Contract,\n      {\n        gasLimit: 1000000,\n      }\n    );\n    setApprovedAmount(Number(addressApprowed));\n  };\n\n  const getApprove = async () => {\n    // here shows how to combile web3-provider-engine with ethers contract instance\n    const web3ProviderEngine = new Web3ProviderEngine()\n    const sp = new SignerSubprovider(provider.provider as Web3JsProvider)\n    web3ProviderEngine.addProvider(sp)\n    web3ProviderEngine.addProvider(new RPCSubprovider('https://data-seed-prebsc-1-s1.binance.org:8545'))\n    web3ProviderEngine.start()\n\n    const contract = new Contract(USDT_Addr, ERC20_ABI, new Web3Provider(web3ProviderEngine).getSigner());\n\n    const tx = await contract.approve(Mock_Contract, APPROVE_AMOUNT, {});\n    setTxHash(tx.hash);\n    const receipt = await tx.wait();\n  };\n\n  return (\n    <Card>\n      <div>\n        <b>Nufinetes</b>\n        <Status isActivating={isActivating} error={error} isActive={isActive} />\n        <div style={{ marginBottom: \"1rem\" }} />\n        <Chain chainId={chainId} />\n        <Accounts accounts={accounts} />\n      </div>\n      <div style={{ marginBottom: \"1rem\" }} />\n\n      {!isActive && (\n        <button onClick={() => nufinetes.activate(42)}>Connect</button>\n      )}\n\n      {isActive && (\n        <button onClick={() => nufinetes.deactivate()}>Disconnect</button>\n      )}\n\n      {chainId === 97 ? (\n        <>\n          {\" \"}\n          <button onClick={handleBalanceAndApprove}>\n            Get Balance And Approve\n          </button>\n          <div>Bnb Balance: {ethBalance}</div>\n          <div>USDT Balance: {linkBalance}</div>\n\n          <button onClick={getApprove}>Contract call test</button>\n          <div style={{ wordBreak: \"break-all\" }}>Tx Hash: {txHash}</div>\n          <div style={{ marginTop: 10 }}>USDT Contract Address: </div>\n          <div>{USDT_Addr}</div>\n          <div style={{ color: \"green\" }}>USDT Faucet Address: </div>\n        </>\n      ) : (\n        <span\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: 10,\n            textAlign: \"center\",\n          }}\n        >\n          Please Switch to Bnb Testnet on Nufinetes\n        </span>\n      )}\n    </Card>\n  );\n}\n","import Header from \"../components/Header\";\n\nimport BnbTestnet from \"../components/contractCallComponents/bnbTestnet\";\n\nexport default function Home() {\n  return (\n    <div\n      style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\n    >\n      <Header />\n\n      <div style={{ fontSize: 18, width: 800, textAlign: \"center\" }}>\n        Bnb Contract Call\n        <br />\n        This example provides balance query and contract call on the Bnb\n        testnet, and shows how to use web3-provider-engine for ethers contract instance.\n      </div>\n\n      <div\n        style={{ display: \"flex\", flexFlow: \"wrap\", fontFamily: \"sans-serif\" }}\n      >\n        <BnbTestnet />\n      </div>\n    </div>\n  );\n}\n","import React, { Suspense } from \"react\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n// import Loadable from 'react-loadable'\nimport Index from \"../views/Index\";\nimport Dapp from \"../views/Dapp\";\nimport EthSign from \"../views/EthSign\";\nimport Contract from \"../views/Contract\";\nimport Vechain from \"../views/Vechain\";\nimport Bnb from \"../views/Bnb\";\n\nexport default () => {\n  return (\n    <Suspense fallback={<>loading</>}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Routes>\n          <Route path=\"/\" element={<Index />} />\n          <Route path=\"/dapp\" element={<Dapp />} />\n          <Route path=\"/eth-sign\" element={<EthSign />} />\n          <Route path=\"/contract\" element={<Contract />} />\n          <Route path=\"/vechain\" element={<Vechain />} />\n          <Route path=\"/bnb\" element={<Bnb />} />\n        </Routes>\n      </BrowserRouter>\n    </Suspense>\n  );\n};\n","import Router from \"./routers\";\nimport \"./App.css\";\n\nfunction App() {\n  return <Router />;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}